<!DOCTYPE html>
<html>
<head>
    <form>
        <form id="myForm" class="form">
            <div class="form-group">
              <label>Phone Number</label>
              <input type="text" class="form-control" id="number" name="number">
            </div>
        </form>
    </form>
</head>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"></script>
      <script>
        // Your web app's Firebase configuration: You should put your own keys here!
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
           // I inserted the API keys here from the firebase website
        apiKey: "AIzaSyDggC7QCB9qvUa9sT9DgWn50djUDzR3_T0",
        authDomain: "uscmarketplace.firebaseapp.com",
        projectId: "uscmarketplace",
        storageBucket: "uscmarketplace.appspot.com",
        messagingSenderId: "432656718742",
        appId: "1:432656718742:web:9f34948f88a687987d9bb7",
        measurementId: "G-LSPEZ0QTC0"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        var db = firebase.firestore();

        const signupForm = document.querySelector('#myForm');
        signupForm.addEventListener('submit', (e) =>{
            e.preventDefault();
            const inpemail = signupForm['email'].value;
            const inppass = signupForm['password'].value;
            firebase.auth().createUserWithEmailAndPassword(inpemail, inppass).then( cred =>{
                console.log("entered");
                return db.collection('users').doc(cred.user.uid).set({ //cred.user.uid gets the user id
                  
                  name: signupForm['number'].value
                });
                
                
                // console.log(name);
                // console.log(cred.user.uid);

            })

        }) 
        </script>
</html>